<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <title>Yuan & Yuan Dish - Materials</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&family=Source+Sans+3:wght@400;500;600&display=swap"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="hero">
      <div class="header-content">
        <nav class="top-nav">
          <a class="nav-link" href="index.html">èœè°±ä¸»é¡µ / Dishes</a>
          <a class="nav-link active" href="materials.html">ææ–™ç®¡ç† / Materials</a>
          <a class="nav-link" href="made-dinner.html">å®Œæˆçš„æ™šé¤ / Made Dinners</a>
        </nav>
        <h1>Yuan & Yuan Dish / è¢ä¸è¢å®¶å¸¸èœ</h1>
        <p class="tagline">ç»Ÿä¸€ç®¡ç†ææ–™ä»·æ ¼ä¸é—¨åº—ä¿¡æ¯ / Manage materials, prices, and store locations.</p>
      </div>
    </header>

    <main class="container materials-main">
      <div class="materials-layout">
        <!-- Left Sidebar Navigation -->
        <nav class="materials-sidebar">
          <div class="sidebar-header">Status Filter</div>
          <a href="#all" class="sidebar-link active" data-status="all">
            <span class="sidebar-icon">ğŸ“‹</span>
            <span class="sidebar-text">All Items</span>
          </a>
          <a href="#need-to-buy" class="sidebar-link" data-status="available">
            <span class="sidebar-icon">ğŸ›’</span>
            <span class="sidebar-text">Need to Buy</span>
          </a>
          <a href="#already-have" class="sidebar-link" data-status="have">
            <span class="sidebar-icon">ğŸ </span>
            <span class="sidebar-text">Already Have</span>
          </a>
          <a href="#removed" class="sidebar-link" data-status="removed">
            <span class="sidebar-icon">ğŸ—‘ï¸</span>
            <span class="sidebar-text">Removed</span>
          </a>
          <div class="sidebar-divider"></div>
          <div class="sidebar-header">Store Filter</div>
          <div class="sidebar-filters" id="store-filter">
            <button class="sidebar-filter active" data-store="all">
              <span>ğŸª</span>
              <span>All</span>
            </button>
            <button class="sidebar-filter" data-store="Whole Foods">
              <span style="background: #00674f; color: white; padding: 2px 6px; border-radius: 4px; font-size: 0.65rem; font-weight: 700;">WF</span>
              <span>WF</span>
            </button>
            <button class="sidebar-filter" data-store="Safeway">
              <span style="background: #e31837; color: white; padding: 2px 6px; border-radius: 4px; font-size: 0.65rem; font-weight: 700;">S</span>
              <span>Safeway</span>
            </button>
            <button class="sidebar-filter" data-store="Ranch99">
              <span style="background: #ff9500; color: white; padding: 2px 6px; border-radius: 4px; font-size: 0.65rem; font-weight: 700;">99</span>
              <span>Ranch 99</span>
            </button>
            <button class="sidebar-filter" data-store="Trader Joe's">
              <span style="background: #007A87; color: white; padding: 2px 6px; border-radius: 4px; font-size: 0.65rem; font-weight: 700;">TJ</span>
              <span>Trader Joe's</span>
            </button>
          </div>
        </nav>

        <!-- Main Content Area -->
        <div class="materials-content">
          <div id="materials-grid" class="modern-materials-grid"></div>
        </div>
      </div>

      <footer class="attribution">
        <p>
          ğŸ“¦ Product data powered by <a href="https://world.openfoodfacts.org" target="_blank" rel="noopener">Open Food Facts</a> 
          Â· Licensed under <a href="https://opendatacommons.org/licenses/odbl/1.0/" target="_blank" rel="noopener">ODbL</a>
          Â· A free and open database of food products from around the world
        </p>
      </footer>
    </main>

    <script>
      // Pre-check before loading
      console.log('Page loaded, about to load scripts from store databases');
      window.addEventListener('error', function(e) {
        console.error('Global error:', e.error, e.message, e.filename, e.lineno);
        const grid = document.getElementById('materials-grid');
        if (grid && grid.innerHTML.trim() === '') {
          grid.innerHTML = '<p style="color: red;">é”™è¯¯ï¼š' + e.message + '<br/>Error: ' + e.message + '</p>';
        }
      });
    </script>
    <!-- Load store data files (simulating 4 separate database tables) -->
    <script src="wholefoods-data.js"></script>
    <script src="safeway-data.js"></script>
    <script src="ranch99-data.js"></script>
    <script src="traderjoes-data.js"></script>
    <script src="data.js"></script>
    <script src="materials.js"></script>
  </body>
</html>
